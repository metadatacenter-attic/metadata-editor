<div class="instance__container " [ngClass]="{'alternate-theme': mode === 'view'}" >

  <div class="mode-toggle__container" >
    <span *ngIf="mode === 'view'" class="mode-toggle__text">{{'App.View' | translate}}</span>
    <span *ngIf="mode === 'edit'" class="mode-toggle__text">{{'App.Edit' | translate}}</span>
    <label class="toggle-button__container">
      <input (click)="toggleMode()" type="checkbox" class="mode-toggle__input"/>
      <span [ngClass]="{'mode-toggle__bg-checked': mode === 'view'}" class="mode-toggle__bg"></span>
      <span [ngClass]="{'mode-toggle__circle-checked': mode === 'edit'}" class="mode-toggle__circle"></span>
    </label>
  </div>

  <cedar-form *ngIf="template" [mode]="mode" [instance]="instance" [template]="template"
    (autocomplete)="onAutocomplete($event)"
    (formChange)="onFormChange($event)"
    [autocompleteResults]="allPosts"></cedar-form>

  <div *ngIf="mode ==='edit'" class="save-container">
    <button mat-raised-button color="primary" [disabled]="mode === 'view'"
      (click)="onSubmit()">{{'App.Save' | translate}}
    </button>
  </div>
</div>

<app-form-results *ngIf="template && !artifactStatus" [instance]="instance" [template]="template" [rdf]="rdf"></app-form-results>
<app-legend *ngIf="template && !artifactStatus"></app-legend>

<div *ngIf="artifactStatus">
  <app-artifact-error [status]="artifactStatus" [cedarLink]="cedarLink"></app-artifact-error>
</div>
