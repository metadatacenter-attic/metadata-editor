<div [formGroup]="node.formGroup" >

  <label [attr.for]="node.filename">{{node.name}}</label>


  <div [ngSwitch]="node.type">


    <input *ngSwitchCase="'textfield'" [formControlName]="node.filename" type="text" [value]="node.value" required>

    <select *ngSwitchCase="'dropdown'" [formControlName]="node.filename" [value]="node.value">
      <option *ngFor="let opt of node.options" [value]="opt.key">{{opt.value}}</option>
    </select>


    <!--<app-element *ngSwitchCase="'element'"  [formControlName]="node.filename"   [parent]="form" ></app-element>-->


  </div>

  <div *ngIf="node.formGroup.invalid && (node.formGroup.dirty || node.formGroup.touched)" class="alert alert-danger">

    invalid dirty touched {{node.formGroup.errors}}

    <div *ngIf="node.formGroup.errors">
      Name is required.
    </div>
    <div *ngIf="node.formGroup.errors">
      Name must be at least 4 characters long.
    </div>
    <div *ngIf="node.formGroup.errors">
      Name cannot be Bob.
    </div>
  </div>

  <!--<div class="errorMessage" *ngIf="!isValid">{{question.label}} is required</div>-->
</div>

